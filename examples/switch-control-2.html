<!DOCTYPE html>
<html lang="en" id="htmlID" class="htmlClass">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no, width=device-width">
	<meta name="apple-mobile-web-app-capable" content="yes">
	<link rel="apple-touch-startup-image" href="startup.png">
	<link rel="apple-touch-icon" href="chocolatechip-icon.png"/>
	<link rel="shortcut icon" href="favicon.ico">
	<title>ChocolateChip Mobile</title>
	<link rel="stylesheet" href="chui/chui.css">
	<style>
		/* Local Styles Here */
		p[ui-kind=grouped] { padding: 10px 10px; }
		 
	</style>
	<script src="chui/chocolatechip.js"></script>
	<script src="chui/chui.js"></script>
	<script>
		/* Local JavaScript Here */
	
		$.ready(function() {
			 // Initialize click events for switch controls.
            $$("tableview switchcontrol").forEach(function(item) {
                item.bind("click", function () {
                    if (this.checked === true) {
                        $("#switchResponse").empty();
                        $("#switchResponse").fill(this.getAttribute("ui-value"));
                    } else {
                        $("#switchResponse").empty();
                    }
                });
                
                item.bind("touchstart", function(e) {
                    if (this.checked === true) {
                        $("#switchResponse").empty();
                    } else {
                        $("#switchResponse").empty();
                        $("#switchResponse").fill(this.getAttribute("ui-value"));
                    }
                });
			});
			
			// This is for a dynamically created switch control:
			var switchOpts = {
				id : "myBestSwitch",
				customClass : "customSwitchColor",
				status : "on",
				value : "sort of working",
				callback : function(item) {
					var className = item.className;
					if (this.checked = true) {
						console.log("This is on!");
					} else {
						console.log("This is turned off!!!");
					}
				}
			};
			
			// Uncomment this line to see dynamically created
			// switch control inserted in response paragraph:
			$("p:last-of-type").UICreateSwitchControl(switchOpts);
		});
		
	</script>
</head>
<body class="bodyClass" id="bodyID">
	<app id="appID" class="appClass">
		<view title="Main" class="mainView" id="main" ui-background-style="striped" ui-navigation-status="current">
			<navbar id="segmentedToolbar">
				<h1 ui-bar-align="center">Switchcontrol</h1>
			</navbar>
			<subview id="subview1" class="mySubView" ui-associations="withNavBar">
				<scrollpanel>
					<tableview id="tableview_01" ui-kind="grouped">
                    	<tablecell>
                        <celltitle>Sleep</celltitle>
                        <switchcontrol class="on" id="sleepSwitch" ui-value="ZZZZZZZZ!">
                            <thumb></thumb>
                        </switchcontrol>
                    	</tablecell>
                    </tableview>
                    <tableview ui-kind="grouped">
                    	<tablecell>
                        <celltitle>Vacation</celltitle>
                        <switchcontrol ui-kind="generic" class="off" id="vacationSwitch" ui-value="Later! :-)">
                            <thumb></thumb>
                        </switchcontrol>
                    	</tablecell>
                    </tableview>
                    <tableview ui-kind="grouped">
                    	<tablecell>
                        <celltitle>Breakfast</celltitle>
                        <switchcontrol ui-implements="attention" class="off green" id="breakfastSwtich" ui-implements="attention"  ui-value="So, what's the first course?">
                            <thumb></thumb>
                        </switchcontrol>
                    	</tablecell>
                    </tableview>
                    <p ui-kind="grouped">
                    	<span><strong>Response: </strong></span><span id="switchResponse" class="response">ZZZZZZZZ</span>
                    </p>
				</scrollpanel>
			</subview>
		</view>
	</app>
</body>
</html>
